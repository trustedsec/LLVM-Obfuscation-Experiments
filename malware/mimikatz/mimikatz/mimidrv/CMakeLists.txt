set(PROJECT_NAME mimidrv)

################################################################################
# Source groups
################################################################################
set(no_group_source_files
    "globals.h"
    "ioctl.h"
    "kkll_m_filters.c"
    "kkll_m_filters.h"
    "kkll_m_memory.c"
    "kkll_m_memory.h"
    "kkll_m_modules.c"
    "kkll_m_modules.h"
    "kkll_m_notify.c"
    "kkll_m_notify.h"
    "kkll_m_process.c"
    "kkll_m_process.h"
    "kkll_m_ssdt.c"
    "kkll_m_ssdt.h"
    "mimidrv.c"
    "mimidrv.h"
)
source_group("" FILES ${no_group_source_files})

set(winddk
    "_build_.cmd"
    "_clean_.cmd"
    "_rebuild_.cmd"
    "MAKEFILE"
    "SOURCES"
)
source_group("winddk" FILES ${winddk})

set(ALL_FILES
    ${no_group_source_files}
    ${winddk}
)

################################################################################
# Target
################################################################################

use_props(${PROJECT_NAME} "${CMAKE_CONFIGURATION_TYPES}" "${DEFAULT_CXX_PROPS}")
set_target_properties(${PROJECT_NAME} PROPERTIES
    VS_GLOBAL_KEYWORD "MakeFileProj"
)
################################################################################
# Output directory
################################################################################
set_target_properties(${PROJECT_NAME} PROPERTIES
    OUTPUT_DIRECTORY "${CMAKE_SOURCE_DIR}/${CMAKE_VS_PLATFORM_NAME}/"
)
################################################################################
# Compile definitions
################################################################################

################################################################################
# Compile and link options
################################################################################
